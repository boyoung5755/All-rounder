<%--
* [[개정이력(Modification Information)]]
* 수정일                 수정자      수정내용
* ----------  ---------  -----------------
* Nov 27, 2023      오경석      최초작성
* Nov 27, 2023      송석원     qr코드 생성
* Copyright (c) 2023 by DDIT All right reserved
 --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form" %>
<%@ taglib uri="http://www.springframework.org/tags" prefix="spring" %>
<%@ taglib uri="http://www.springframework.org/security/tags" prefix="security" %>  
<link href="${pageContext.request.contextPath}/resources/css/mypage/mypage.css" rel="stylesheet" type="text/css">


<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script> 
<security:authorize access="isAuthenticated()">
    <security:authentication property="principal" var="realUser" />
 </security:authorize>
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="user-profile-header-banner">
        <img src="${pageContext.request.contextPath}/resources/images/profile-banner.png" alt="배너 이미지" class="rounded-top resized-image" _mstalt="175734" _msthash="272">
      </div>
      <div class="user-profile-header d-flex flex-column flex-sm-row text-sm-start text-center mb-4">
        <div class="flex-shrink-0 mt-n2 mx-sm-0 mx-auto">
          <img src="../../assets/img/avatars/1.png" alt="사용자 이미지" class="d-block h-auto ms-0 ms-sm-4 rounded user-profile-img" _mstalt="136097" _msthash="273">
        </div>
        <div class="flex-grow-1 mt-3 mt-sm-5">
          <div class="d-flex align-items-md-end align-items-sm-start align-items-center justify-content-md-between justify-content-start mx-4 flex-md-row flex-column gap-4">
            <div class="user-profile-info">
              <h4 _msttexthash="9584913" _msthash="274">존 도(John Doe)</h4>
              <ul class="list-inline mb-0 d-flex align-items-center flex-wrap justify-content-sm-start justify-content-center gap-2">
                <li class="list-inline-item fw-medium"><i class="bx bx-pen"></i><font _mstmutation="1" _msttexthash="26453479" _msthash="275"> 사번</font></li>
                <li class="list-inline-item fw-medium">
                  <i class="bx bx-calendar-alt"></i><font _mstmutation="1" _msttexthash="33095153" _msthash="277"> 입사일 </font></li>
              </ul>
            </div>        
    		<div id="qrcode"></div>
          </div>
          <br /><a href="javascript:void(0)" class="btn btn-primary text-nowrap">
              <i class="bx bx-user-check me-1"></i><font _mstmutation="1" _msttexthash="9208784" _msthash="278">프로필변경 </font></a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xl-4 col-lg-5 col-md-5">
    <!-- About User -->
    <div class="card mb-4">
      <div class="card-body">
        <small class="text-muted text-uppercase" _msttexthash="4600687" _msthash="283">개인정보</small>
        <ul class="list-unstyled mb-4 mt-3">
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-user"></i><span class="fw-medium mx-2" _msttexthash="9473269" _msthash="284">성명:</span> <span _msttexthash="9584913" _msthash="285">존 도(John Doe)</span>
          </li>
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-check"></i><span class="fw-medium mx-2" _msttexthash="10057853" _msthash="286">비밀번호:</span> <span _msttexthash="22410817" _msthash="287">활동적인</span>
          </li>
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-check re"></i><span class="fw-medium mx-2" _msttexthash="10057853" _msthash="286">비밀번호 확인:</span> <span _msttexthash="22410817" _msthash="287">활동적인</span>
          </li>
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-star"></i><span class="fw-medium mx-2" _msttexthash="10298561" _msthash="288">부서:</span> <span _msttexthash="14994980" _msthash="289">개발자</span>
          </li>
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-flag"></i><span class="fw-medium mx-2" _msttexthash="9005802" _msthash="290">직책:</span> <span _msttexthash="8996208" _msthash="291">미국</span>
          </li>
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-detail"></i><span class="fw-medium mx-2" _msttexthash="15295280" _msthash="292">직급:</span>
            <span _msttexthash="9876347" _msthash="293">영어</span>
          </li>
          <li class="list-inline-item fw-medium">
          	<i class="bx bx-map"></i><font _mstmutation="1" _msttexthash="29015311" _msthash="276"> 우편번호</font>
          </li>
          <li class="list-inline-item fw-medium">
          	<i class="bx bx-map"></i><font _mstmutation="1" _msttexthash="29015311" _msthash="276"> 기본주소</font>
          </li>
          <li class="list-inline-item fw-medium">
          	<i class="bx bx-map"></i><font _mstmutation="1" _msttexthash="29015311" _msthash="276"> 상세주소</font>
          </li>
        </ul>
        <small class="text-muted text-uppercase" _msttexthash="15624336" _msthash="294">연락처</small>
        <ul class="list-unstyled mb-4 mt-3">
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-phone"></i><span class="fw-medium mx-2" _msttexthash="10126389" _msthash="295">내선전화:</span>
            <span _msttexthash="111761" _msthash="296">(123) 456-7890</span>
          </li>
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-chat"></i><span class="fw-medium mx-2" _msttexthash="23102430" _msthash="297">휴대폰:</span> <span _msttexthash="9034857" _msthash="298">john.doe 님</span>
          </li>
          <li class="d-flex align-items-center mb-3">
            <i class="bx bx-envelope"></i><span class="fw-medium mx-2" _msttexthash="15589756" _msthash="299">이메일:</span>
            <span _msttexthash="421655" _msthash="300">john.doe@example.com</span>
          </li>
        </ul>
        <div class="ms-auto">
          <button class="btn btn-primary btn-icon btn-sm updateMypage" id="updateMypage"><i class="bx bx-user"></i><span>수정</span></button>
        </div>
      </div>
    </div>
    <!--/ About User -->
    <!-- Profile Overview -->
    <div class="card mb-4">
      <div class="card-body">
        <small class="text-muted text-uppercase" _msttexthash="9296404" _msthash="306">서명</small>
        <ul class="list-unstyled mt-3 mb-0">
			<span>서명이미지</span>
        </ul>
      </div>
    </div>
    <!--/ Profile Overview -->
  </div>
  <div class="col-xl-8 col-lg-7 col-md-7">
    <!-- Activity Timeline -->
    <div class="card card-action mb-4">
      <div class="card-header align-items-center">
        <h5 class="card-action-title mb-0"><i class="bx bx-list-ul me-2"></i><font _mstmutation="1" _msttexthash="37357320" _msthash="313">활동 타임라인</font></h5>
        <div class="card-action-element" _msthidden="3">
          <div class="dropdown" _msthidden="3">
            <button type="button" class="btn dropdown-toggle hide-arrow p-0" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bx bx-dots-vertical-rounded"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-end" _msthidden="3">
              <li _msthidden="1"><a class="dropdown-item" href="javascript:void(0);" _msttexthash="230711" _msthidden="1" _msthash="314">Share timeline</a></li>
              <li _msthidden="1"><a class="dropdown-item" href="javascript:void(0);" _msttexthash="209417" _msthidden="1" _msthash="315">Suggest edits</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li _msthidden="1"><a class="dropdown-item" href="javascript:void(0);" _msttexthash="137839" _msthidden="1" _msthash="316">Report bug</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="card-body">
        <ul class="timeline ms-2">
          <li class="timeline-item timeline-item-transparent">
            <span class="timeline-point-wrapper"><span class="timeline-point timeline-point-warning"></span></span>
            <div class="timeline-event">
              <div class="timeline-header mb-1">
                <h6 class="mb-0" _msttexthash="21262410" _msthash="317">고객 미팅</h6>
                <small class="text-muted" _msttexthash="9370764" _msthash="318">오늘</small>
              </div>
              <p class="mb-2" _msttexthash="65621660" _msthash="319">존과의 프로젝트 미팅 @10:15am</p>
              <div class="d-flex flex-wrap">
                <div class="avatar me-3">
                  <img src="../../assets/img/avatars/3.png" alt="아바타" class="rounded-circle" _mstalt="76271" _msthash="320">
                </div>
                <div>
                  <h6 class="mb-0" _msttexthash="80197975" _msthash="321">Lester McCarthy (클라이언트)</h6>
                  <span _msttexthash="46056972" _msthash="322">인피빔 대표이사</span>
                </div>
              </div>
            </div>
          </li>
          <li class="timeline-item timeline-item-transparent">
            <span class="timeline-point-wrapper"><span class="timeline-point timeline-point-info"></span></span>
            <div class="timeline-event">
              <div class="timeline-header mb-1">
                <h6 class="mb-0" _msttexthash="150064642" _msthash="323">클라이언트에 대한 새 프로젝트 만들기</h6>
                <small class="text-muted" _msttexthash="11306490" _msthash="324">2일 전</small>
              </div>
              <p class="mb-0" _msttexthash="85875712" _msthash="325">새 디자인 폴더에 파일 추가</p>
            </div>
          </li>
          <li class="timeline-item timeline-item-transparent">
            <span class="timeline-point-wrapper"><span class="timeline-point timeline-point-primary"></span></span>
            <div class="timeline-event">
              <div class="timeline-header mb-1">
                <h6 class="mb-0" _msttexthash="92966536" _msthash="326">공유 2개의 새 프로젝트 파일</h6>
                <small class="text-muted" _msttexthash="11306854" _msthash="327">6일 전</small>
              </div>
              <p class="mb-2"><font _mstmutation="1" _msttexthash="52139165" _msthash="329"> 보낸 사람 몰리 딕슨 </font><img src="../../assets/img/avatars/4.png" class="rounded-circle ms-3" alt="아바타" height="20" width="20" _mstalt="79183" _msthash="328">
              </p>
              <div class="d-flex flex-wrap gap-2">
                <a href="javascript:void(0)" class="me-3">
                  <img src="../../assets/img/icons/misc/pdf.png" alt="문서 이미지" width="20" class="me-2" _mstalt="229203" _msthash="330">
                  <span class="h6" _msttexthash="16153267" _msthash="331">앱 지침</span>
                </a>
                <a href="javascript:void(0)">
                  <img src="../../assets/img/icons/misc/doc.png" alt="Excel 이미지" width="20" class="me-2" _mstalt="152464" _msthash="332">
                  <span class="h6" _msttexthash="28448992" _msthash="333">테스트 결과</span>
                </a>
              </div>
            </div>
          </li>
          <li class="timeline-item timeline-item-transparent">
            <span class="timeline-point-wrapper"><span class="timeline-point timeline-point-success"></span></span>
            <div class="timeline-event pb-0">
              <div class="timeline-header mb-1">
                <h6 class="mb-0" _msttexthash="86560877" _msthash="334">프로젝트 상태 업데이트됨</h6>
                <small class="text-muted" _msttexthash="12640927" _msthash="335">10일 전</small>
              </div>
              <p class="mb-0" _msttexthash="43348448" _msthash="336">Woocommerce iOS 앱 완성</p>
            </div>
          </li>
          <li class="timeline-end-indicator">
            <i class="bx bx-check-circle"></i>
          </li>
        </ul>
      </div>
    </div>
    <!-- Projects table -->
    <div class="card mb-4">
      <h5 class="card-header" _msttexthash="37073296" _msthash="382">대결권자 지정</h5>
      <div class="table-responsive mb-3">
        <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer"><div class="d-flex justify-content-between align-items-center flex-column flex-sm-row mx-4 row"><div class="col-sm-4 col-12 d-flex align-items-center justify-content-sm-start justify-content-center"><div class="dataTables_length" id="DataTables_Table_0_length"><label><font _mstmutation="1" _msttexthash="15070224" _msthash="383">보이다 </font><select name="DataTables_Table_0_length" aria-controls="DataTables_Table_0" class="form-select"><option value="7" _msttexthash="5005" _msthash="384">7</option><option value="10" _msttexthash="9451" _msthash="385">10</option><option value="25" _msttexthash="10062" _msthash="386">25</option><option value="50" _msttexthash="9815" _msthash="387">50</option><option value="75" _msttexthash="10517" _msthash="388">75</option><option value="100" _msttexthash="15067" _msthash="389">100</option></select></label></div></div><div class="col-sm-8 col-12 d-flex align-items-center justify-content-sm-end justify-content-center"><div id="DataTables_Table_0_filter" class="dataTables_filter"><label><font _mstmutation="1" _msttexthash="9158058" _msthash="391">검색:</font><input type="search" class="form-control" placeholder="프로젝트 검색" aria-controls="DataTables_Table_0" _mstplaceholder="226707" _msthash="390"></label></div></div></div><table class="table datatable-project dataTable no-footer dtr-column" id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info">
          <thead class="table-light">
            <tr><th class="control sorting_disabled dtr-hidden" rowspan="1" colspan="1" style="width: 31.3906px; display: none;" aria-label=""></th><th class="sorting_disabled dt-checkboxes-cell dt-checkboxes-select-all" rowspan="1" colspan="1" style="width: 31.3906px;" data-col="1" aria-label=""><input type="checkbox" class="form-check-input"></th><th class="sorting sorting_desc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 141.469px;" aria-sort="descending" aria-label="프로젝트: 열을 오름차순으로 정렬하려면 활성화합니다." _mstaria-label="1282060" _msthash="392" _msttexthash="22877309">프로젝트</th><th class="text-nowrap sorting_disabled" rowspan="1" colspan="1" style="width: 176.906px;" aria-label="전체 작업" _mstaria-label="132106" _msthash="393" _msttexthash="22668763">전체 작업</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 167.281px;" aria-label="진행률: 열을 오름차순으로 정렬하려면 활성화합니다." _mstaria-label="1345994" _msthash="394" _msttexthash="9731020">진보</th><th class="sorting_disabled" rowspan="1" colspan="1" style="width: 116.219px;" aria-label="시간" _mstaria-label="63050" _msthash="395" _msttexthash="9119188">시간</th></tr>
          </thead><tbody><tr class="odd"><td valign="top" colspan="5" class="dataTables_empty" _msttexthash="9127976" _msthash="396">로드...</td></tr></tbody>
        </table><div class="d-flex justify-content-between mx-4 row"><div class="col-sm-12 col-md-6"><div class="dataTables_info" id="DataTables_Table_0_info" role="status" aria-live="polite" _msttexthash="37612575" _msthash="397">0 항목 중 0 - 0 표시</div></div><div class="col-sm-12 col-md-6"><div class="dataTables_paginate paging_simple_numbers" id="DataTables_Table_0_paginate"><ul class="pagination"><li class="paginate_button page-item previous disabled" id="DataTables_Table_0_previous"><a aria-controls="DataTables_Table_0" aria-disabled="true" role="link" data-dt-idx="previous" tabindex="0" class="page-link" _msttexthash="15942420" _msthash="398">이전의</a></li><li class="paginate_button page-item next disabled" id="DataTables_Table_0_next"><a aria-controls="DataTables_Table_0" aria-disabled="true" role="link" data-dt-idx="next" tabindex="0" class="page-link" _msttexthash="9473516" _msthash="399">다음</a></li></ul></div></div></div></div>
      </div>
    </div>
    <!--/ Projects table -->
  </div>
</div>
<!-- 밑에거qr이에요 -->


<script>
    // QR 코드를 생성할 값입니다
    const qrValue = "${realUser.username}";

    const qrCodeContainer = document.getElementById("qrcode");
 
//     여기서 크기조절
    const qrCode = new QRCode(qrCodeContainer, {
        text: qrValue, 
        width: 150,
        height: 150,
        colorDark : "#000000",
        colorLight : "#ffffff",
        correctLevel : QRCode.CorrectLevel.H
    });
</script>

 
