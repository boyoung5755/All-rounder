<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.pms.issue.dao.IssueDAO">

<!--  [[개정이력(Modification Information)]]       -->
<!--  수정일        	수정자     수정내용               -->
<!--  ==========  		 ======    ==============        -->
<!--  2023. 11. 23.      김보영     최초작성 ,이슈등록    -->
<!--  2023. 11. 24.      김보영     조회,삭제    -->
<!--  Copyright (c) 2023 by DDIT All right reserved -->

	<!-- 이슈등록 -->
	<insert id="insertIssue" parameterType="IssueVO">
		INSERT INTO ISSUE
		(ISSUE_NO, PRO_SN, ISSUE_RDATE, ISSUE_EDATE, ISSUE_IMP, ISSUE_STTUS
		, ISSUE_SE, ISSUE_SJ, ISSUE_CN, EMP_CD, JOB_SN)
		VALUES
		(
			ISSUE_SEQ.NEXTVAL
			, #{proSn,jdbcType=VARCHAR}
			, SYSDATE
			, #{issueEdate,jdbcType=VARCHAR}
			, #{issueImp,jdbcType=VARCHAR}
			, #{issueSttus,jdbcType=VARCHAR}
			, #{issueSe,jdbcType=VARCHAR}
			, #{issueSj,jdbcType=VARCHAR}
			, #{issueCn,jdbcType=VARCHAR}
			, #{empCd,jdbcType=VARCHAR}
			, #{jobSn,jdbcType=NUMERIC}
		)
	</insert>
	
	<select id="issueList" parameterType="IssueVO" resultType="IssueVO">
		SELECT 
			ISSUE_NO
			, PRO_SN
			, ISSUE_RDATE
			, ISSUE_IMP
			, ISSUE_STTUS
			, ISSUE_SE
			, ISSUE_SJ
			, ISSUE_CN
			, EMP_CD
			, JOB_SN
			, ISSUE_EDATE
		FROM ISSUE
		WHERE PRO_SN = #{proSn} 
		AND ISSUE_STTUS = #{issueSttus} 
	</select>


</mapper>